<html>
<head>
  <title>Coalescent Histories In a Population</title>
  <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap-{slider} -->
  <link rel="stylesheet" type="text/css" href="../css/bootstrap-slider.min.css">
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <!-- d3 library for data visualization and animation -->
  <script src="../js/d3.v4.min.js"></script>
  <script src="../js/d3-selection.v1.min.js"></script>
  <!-- jstat library for probability distributions -->
  <script type="text/javascript" src="../js/jstat.min.js"></script>
  <!-- lodash -->
  <script src="../js/lodash.min.js"></script>
  <!-- phyleaux library for phylogenetic objects and functions -->
  <script src="../js/phyleaux.js"></script>
  <!-- vivus library for animating svg -->
  <script src="../js/vivus.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <div class='title'>
    <h1 style="text-align: center;">Coalescence In One Population</h1>
  </div>
<script>
	var sort = false;
</script>
<div class="container-fluid">
        <div class="row">
            <div class="col-3">
            <div class="col-wrapper">
               <div class="form-group">
                <label class="font-weight-bold">Population Size</label>
                <div class="slider-wrapper">
                  <input id="population-size" data-slider-id='ex1Slider' type="text" data-slider-min="15" data-slider-max="50" data-slider-step="1" data-slider-value="17"/>
                </div>
              </div>
               <div class="form-group">
                <label class="font-weight-bold">Number of Generations</label>
                <div class="slider-wrapper">
                  <input id="number-of-generations" data-slider-id='ex1Slider' type="text" data-slider-min="1" data-slider-max="40" data-slider-step="1" data-slider-value="20"/>
                </div>
              </div>
              <div class="form-group">
                <label class="font-weight-bold">Sample Size</label>
                <div class="slider-wrapper">
                  <input id="sample-size" data-slider-id='ex1Slider' type="text" data-slider-min="0" data-slider-max="50" data-slider-step="1" data-slider-value="5"/>
                </div>
              </div>
              <div class="form-group">
                <button class="btn btn-primary" onclick="drawNewHistory(); drawCoalescentTree(sort)">Draw New Sampled History</button>
              </div>
              <!-- >
              <div class="form-group">
                <button class="btn btn-primary" onclick="drawCoalescentTree(true)">Sort History</button>
              </div>
              <div class="form-group">
                <button class="btn btn-primary" onclick="drawCoalescentTree(true)">Draw and Sort New History</button>
              </div>
              < -->
              <div class="form-group">
                <!-- label class="font-weight-bold">Sort History</label -->
                <span class="switch">
                  <input type="checkbox" onclick="drawCoalescentTree()" class="switch" id="switch-id">
                  <label for="switch-id">Sort Samples</label>
                </span>
              </div>
              <div class="form-group">
                <button class="btn btn-primary" onclick="drawFullHistory()">Draw Full Population History</button>
              </div>
                </div> 
            </div>
                <div class="col-9">
                    <div id="visualization"></div>  
                </div>
              </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="../js/bootstrap-slider.min.js"></script>
<script type="text/javascript" src="../js/main.js"></script>
<script>
	drawNewHistory();
    drawCoalescentTree();
     // redraw coalescent on page resize
     // window.onresize = (event) => {
     //  drawCoalescentTree();
     // }
     let sortSwitch = document.getElementById('switch-id')
     sortSwitch.onclick = function(event){
        sort = sortSwitch.checked
        console.log(sort)
        drawCoalescentTree(sort)
     }
</script>
<footer class="footer">
    <div class="container">
        <p>Development of the Phyleaux Javascript Library and related interactive phylogenetics tools is supported by the Society of Systematic Biologists.</p>
        <p>Comments and bug reports should be directed to jembrown@lsu.edu.</p> 
    </div>
</footer>
</body>
</html>